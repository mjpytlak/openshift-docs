:_content-type: ASSEMBLY
[id="preparing-to-install-on-vsphere"]
= Preparing to install on vSphere
include::_attributes/common-attributes.adoc[]
:context: preparing-to-install-on-vsphere

toc::[]

Before you install a {product-title} cluster, determine which installation method you will use and ensure that your vSphere environment meets the installation requirements.

[NOTE]
====
While some requirements apply to both installation methods, each installation method has its own set of requirements, as well.
====


[id="preparing-to-install-on-vsphere-prerequisites"]
== Prerequisites

* You reviewed details about the xref:../../architecture/architecture-installation.adoc#architecture-installation[{product-title} installation and update] processes.

* You read the documentation on xref:../../installing/installing-preparing.adoc#installing-preparing[selecting a cluster installation method and preparing it for users].

* If you use a firewall and plan to use Telemetry, you
xref:../../installing/install_config/configuring-firewall.adoc#configuring-firewall[configured the firewall to allow the sites] required by your cluster.


[id="choosing-a-method-to-install-ocp-on-vsphere"]
== Choosing a method to install {product-title} on vSphere

You can install {product-title} on vSphere by using installer-provisioned or user-provisioned infrastructure:

* Installing using installer-provisioned infrastructure lets the installation program pre-configure and automate the provisioning of the resources that {product-title} requires. This is the default installation type.
* Installing without installer-provision infrastructure is known as user-provisioned infrastructure. Installing using user-provisioned infrastructure lets you install {product-title} on infrastructure that you provide. This requires you to manage, maintain, and provision all of the resources required by {product-title}.

See the xref:../../architecture/architecture-installation.html#installation-process_architecture-installation[Installation process] for more information about installer-provisioned and user-provisioned installation processes.

[IMPORTANT]
====
The steps for performing a user-provisioned infrastructure installation are provided as an example only. Installing a cluster with infrastructure you provide requires knowledge of your platform and the installation process of {product-title}. Use the user-provisioned infrastructure installation instructions as a guide; you are free to create the required resources through other methods.
====
//This entire section is a candidate for a snippet that can be reused across the refactoring effort for other platforms.

== Requirements for all installation methods
The following requirements apply to installer-provisioned infrastructure and user-provisioned infrastructure.

include::modules/installation-vsphere-infrastructure.adoc[leveloffset=+2]

include::modules/vmware-csi-driver-reqs.adoc[leveloffset=+2]

== Installer-provisioned infrastructure requirements
The following requirements apply to installer-provisioned infrastructure only.

include::modules/installation-vsphere-installer-network-requirements.adoc[leveloffset=+2]

include::modules/installation-vsphere-installer-infra-requirements.adoc[leveloffset=+2]

== User-provisioned infrastructure requirements

To be updated after IPI POC.

[role="_additional-resources"]
.Additional resources

* xref:../../installing/installing_vsphere/installing-vsphere-ipi.adoc#installing-vsphere-installer-provisioned-infrastructure[Installing a cluster on vSphere using installer provisioned infrastructure]
* (TBD) Installing a cluster on vSphere using user-provisioned infrastructure
* xref:../../storage/container_storage_interface/persistent-storage-csi-vsphere.adoc#persistent-storage-csi-vsphere-install-issues_persistent-storage-csi-vsphere[Removing a third-party vSphere CSI Driver].
